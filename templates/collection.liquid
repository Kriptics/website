{% layout 'theme' %}
<section class="container" style="margin-top:3rem;">
  <header style="text-align:center; max-width:760px; margin:0 auto 3rem;">
    <h1 class="section-heading" style="margin-top:0;">{{ collection.title }}</h1>
    <p style="color:#4d4d62; line-height:1.7;">{{ collection.description | default: 'Discover the Zenel selection curated to keep your rituals elevated. Shop best-sellers, pro tools, and limited exclusives designed for modern wellness.' }}</p>
  </header>
  <div class="grid" style="grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:2rem;">
    {% for product in collection.products %}
      <article class="category-card" style="box-shadow:0 15px 45px rgba(20,16,55,0.08);">
        <a href="{{ product.url }}">
          {% if product.featured_image %}
            <img src="{{ product.featured_image | img_url: '540x' }}" alt="{{ product.title }}" style="width:100%; border-radius:18px; margin-bottom:1rem;">
          {% endif %}
          <h3 style="margin-bottom:0.5rem;">{{ product.title }}</h3>
          <div style="color:var(--color-primary); font-weight:600;">{{ product.price | money }}</div>
          <p style="color:#4d4d62; line-height:1.6;">{{ product.description | strip_html | truncate: 120 }}</p>
        </a>
        <form method="post" action="/cart/add" style="margin-top:1rem;">
          <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
          <button class="button-primary" style="width:100%; text-align:center;">Add to Ritual</button>
        </form>
      </article>
    {% else %}
      <p>No products found in this collection yet. Check back soon for fresh arrivals.</p>
    {% endfor %}
  </div>
</section>
